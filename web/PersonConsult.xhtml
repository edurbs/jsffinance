<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
          
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <title>Person consult</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <h:outputStylesheet library="css" name="system.css"/>
        <h:outputStylesheet library="css" name="person-consult.css"/>
    </h:head>
    <h:body>
        <h1>People</h1>
        <h:button value="New" outcome="PersonRegistry"/>
        <h:messages showSummary="false" showDetail="true"
                        styleClass="form-messages" errorClass="error" infoClass="info"
                        />
        <h:form id="frm">
            <h:dataTable var="person" value="#{personConsultBean.people}" width="100%"
                         styleClass="grid" headerClass="header" rowClasses="color-on, color-off" columnClasses="name, type, line-business, email, birthday,  actions"
                         >
                <h:column>
                    <f:facet name="header">
                        Name
                    </f:facet>
                    <h:outputText value="#{person.name}"/>
                </h:column>
                
                <h:column>
                    <f:facet name="header">
                        Type
                    </f:facet>
                    <h:outputText value="#{person.personType.description}"/>
                </h:column>
                                
                <h:column>
                    <f:facet name="header">
                        Business Line
                    </f:facet>
                    <h:outputText value="#{person.businessLine.description}"/>
                </h:column>
                
                <h:column>
                    <f:facet name="header">
                        Email
                    </f:facet>  
                    <h:outputText value="#{person.email}" />                        
                </h:column>
                
                <h:column>
                    <f:facet name="header">
                        Birthday
                    </f:facet>
                    <h:outputText value="#{person.birthday}">
                        <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                    </h:outputText>
                </h:column>
                
                <h:column>
                    <h:graphicImage value="/images/edit.png"/>
                    <h:commandLink action="#{personConsultBean.delete}" >
                        <h:graphicImage value="/images/delete.png"/>
                        <f:setPropertyActionListener target="#{personConsultBean.selectedPerson}" value="#{person}"/>
                    </h:commandLink>
                </h:column>
                
            </h:dataTable>
            
        </h:form>
    </h:body>
</html>
